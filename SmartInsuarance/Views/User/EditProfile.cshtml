@using SmartInsuarance.Model;
@{
    ViewBag.Title = "EditProfile";
    Layout = "~/Views/Shared/_Layout_new.cshtml";
    //var BaseURL = System.Configuration.ConfigurationManager.AppSettings["BaseUrl"];



}

<link href="~/Content/Template/select2/css/select2.css" rel="stylesheet" />
@*<link href="~/Content/CountrySelect/build/css/countrySelect.css" rel="stylesheet" />
    <link href="~/Content/CountrySelect/build/css/demo.css" rel="stylesheet" />*@


<div class="row">
    <div class="col-xl-3 col-lg-4">
        <div class="clearfix">
            <div class="card card-bx profile-card author-profile m-b30">
                <div class="card-body">
                    <div class="p-5">
                        <div class="author-profile">
                            <div class="author-media">
                                <img src="~/Content/Template/images/userlogo.png" alt="">
                                <div class="upload-link" title="" data-toggle="tooltip" data-placement="right" data-original-title="update">
                                    <input type="file" class="update-flie">
                                    <i class="fa fa-camera"></i>
                                </div>
                            </div>
                            <div class="author-info">
                                <h6 class="title">Super User</h6>
                                <span>Admin</span>
                                @*<div>
                                        @{
                                            if (data != null)
                                            {
                                                foreach (var item in data)
                                                {
                                                    <span>@item.DDLText</span>
                                                }
                                            }
                                        }
                                    </div>*@
                            </div>
                        </div>
                    </div>
                    <div class="info-list">
                        <ul>
                            <li><a href="javascript:void(0)">Username</a><span>SU</span></li>
                            <li><a href="javascript:void(0)">Role</a><span>Admin</span></li>
                            <li><a href="javascript:void(0)">My Members</a><span>0</span></li>
                        </ul>
                    </div>
                </div>
                @*<div class="card-footer">
                        <div class="input-group mb-3">
                            <div class="form-control rounded text-center bg-white">Portfolio</div>
                        </div>
                        <div class="input-group">
                            <a href="https://www.dexignlab.com/" class="form-control text-primary rounded text-start bg-white">https://www.dexignlab.com/</a>
                        </div>
                    </div>*@
            </div>
        </div>

    </div>
    <div class="col-xl-9 col-lg-8">
        <div class="card profile-card card-bx m-b30">
            <div class="card-header">
                <h6 class="title">Account setup</h6>
            </div>
            <form class="profile-form">

                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Name</label>
                            <input type="text" class="form-control" value="Super">
                        </div>
                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Surname</label>
                            <input type="text" class="form-control" value="User">
                        </div>
                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Date Of Birth</label>
                            <input type="text" class="form-control" placeholder="24.09.1995">
                        </div>
                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Email address</label>
                            <input type="text" class="form-control" value="su@gmail.com">
                        </div>

                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Select Country</label><br />
                            @*<input class="form-control" id="countrySelect" style="width:100%"/>*@
                            <select class="form-control" id="ddlCountry">
                                <option value="0" role=separator>Select Country</option>
                            </select>
                        </div>
                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Select State</label><br />
                            <select class="form-control" id="ddlState">
                                <option value="0" role=separator>Select State</option>
                            </select>
                        </div>
                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Select City</label><br />

                            <select class="form-control" id="ddlCity">
                                <option value="0" role=separator>Select City</option>
                            </select>
                        </div>


                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Phone Number</label>
                            <div class="row col-12">
                                <div class="col-2">
                                    <input type="text" class="form-control" id="txtPhoneCodeID" value="NA" style="font-size:15px;width: 80px; background-color: #f1f1f1" disabled readonly />
                                </div>
                                <div class="col-10">
                                    <input type="text" class="form-control" value="90XXXXXXX5">
                                </div>
                            </div>

                        </div>

                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Pincode</label>
                            <input type="text" class="form-control" value="462042">
                        </div>
                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Role</label><br />
                            <select class="selectpicker">
                                <option>Admin</option>
                                <option>Female</option>
                                <option>Other</option>
                            </select>
                        </div>

                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Aadhar Number</label>
                            <input type="text" class="form-control" value="XXXXXXXX1234">
                        </div>

                        <div class="col-sm-6 m-b30">
                            <label class="form-label">PAN Number</label>
                            <input type="text" class="form-control" value="BXXXXXXXX8A">
                        </div>

                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Choose Image (Aadhaar)</label>
                            <input type="file" class="form-control">
                        </div>

                        <div class="col-sm-6 m-b30">
                            <label class="form-label">Choose Image (PAN)</label>
                            <input type="file" class="form-control" >
                        </div>


                        <div class="col-sm-12 m-b30">
                            <label class="form-label">Full Address</label>
                            <textarea class="form-control" placeholder="Some where....." rows="3" style="resize:none"></textarea>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <button class="btn btn-primary">UPDATE</button>
                    <a href="javascript:void(0);" class="btn-link">Forgot your password?</a>
                </div>
            </form>
        </div>
    </div>
</div>
<!--**********************************
    Footer start
***********************************-->
<!--**********************************
    Footer end
***********************************-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
@*
    <script src="~/Content/CountrySelect/build/js/countrySelect.js"></script>
    <script>
        $("#countrySelect").countrySelect({
            defaultStyling: "inside"

        });
    </script>*@
<script type="text/javascript">

    $(document).ready(function () {

        bindCountryStateCity('Country', 0, 0);
        $('#ddlCountry').change(function () {
            $('#ddlCity').html('');
            $('#ddlState').html('');
            var ds = $('#ddlCountry').val();
            var ds1 = $('#ddlCountry option:selected').text();

            ds1 = ds1.split('(')[1].replace(')', '').trim();
            bindCountryStateCity('State', ds, 0);

            $('#txtPhoneCodeID').val('');
            $('#txtPhoneCodeID').val(ds1);

        });

        $('#ddlState').change(function () {

            $('#ddlCity').html('');
            var ds = $('#ddlState').val();
            bindCountryStateCity('City', 0, ds);
        });
    });



    function bindCountryStateCity(type, cID, sID) {
        var Content = {
            type: type,
            countryID: parseInt(cID),
            stateID: parseInt(sID),
        }
        $.ajax({
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            url: "/Common/GetCountryStateCity",
            dataType: 'json',
            type: 'Post',
            cache: false,
            data: JSON.stringify(Content),
            success: function (data) {
                console.log('ajax');
                //console.log(data.Data);

                var mainData = JSON.parse(data.Data);
                if (type == 'Country') {
                    var countryData = "<option value=0>Select Country</option>";
                    mainData.forEach(function (item) {
                        /* console.log(item.DDLText);*/
                        countryData += `<option value=${item.DDLValue}>${item.DDLText}</option>`;

                    });
                    //console.log(countryData);
                    $('#ddlCountry').html('');
                    $('#ddlCountry').html(countryData);
                    $('#ddlCountry').select2();
                }

                if (type == 'State') {
                    var stateData = "<option value=0>Select State</option>";
                    mainData.forEach(function (item) {
                        /* console.log(item.DDLText);*/
                        stateData += `<option value=${item.DDLValue}>${item.DDLText}</option>`;

                    });
                    //console.log(countryData);
                    $('#ddlState').html('');
                    $('#ddlState').html(stateData);
                    $('#ddlState').select2();
                }
                if (type == 'City') {
                    var cityData = "<option value=0>Select City</option>";
                    mainData.forEach(function (item) {
                        /* console.log(item.DDLText);*/
                        cityData += `<option value=${item.DDLValue}>${item.DDLText}</option>`;

                    });
                    //console.log(countryData);
                    $('#ddlCity').html('');
                    $('#ddlCity').html(cityData);
                    $('#ddlCity').select2();
                }
            },
            error: function (d) {
                console.log(d);
                //alert("404. Please wait until the File is Loaded.");
            }
        });
    }
</script>